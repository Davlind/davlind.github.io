<script>
  var cb = function() {
    var l = document.createElement('link'); l.rel = 'stylesheet';
    l.href = '//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css';
    var h = document.getElementsByTagName('head')[0]; h.appendChild(l);
  };
  var raf = requestAnimationFrame || mozRequestAnimationFrame ||
      webkitRequestAnimationFrame || msRequestAnimationFrame;
  if (raf) raf(cb);
  else window.addEventListener('load', cb);
</script>


<script src="/javascripts/snap.js"></script>
<script src="/javascripts/headroom.js"></script>
{% if page.math == true %}
<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML,http://drz.ac/javascripts/MathJaxLocal.js">
{% endif %}
</script>

<script>
  var snapper=new Snap({
    element:document.getElementById('snap-content'),
    hyperextensible:false,
    disable:'left',
    touchToDrag:false,
  });

  var showWidth=768;

  // $(window).resize(function(){
  //   if($(window).width()>=showWidth){
  //     snapper.close();
  //     snapper.disable();
  //     $('#sidebar-toggle').hide();
  //   }else{
  //     snapper.enable();
  //     $('#sidebar-toggle').show();
  //   }
  // });

  var menuButton = document.getElementById('sidebar-toggle');
  menuButton.addEventListener('click', function() {
    if(snapper.state().state=="right"){
      snapper.close();
    }else{
      snapper.open('right');
    }
  }, false);

  // var headroom = new Headroom(menuButton);
  // headroom.scroller = document.getElementById('snap-content');

  var headroom = new Headroom(menuButton, {
  "tolerance": 5,
  "offset": 205,
  "scroller": document.getElementById('snap-content'),
  "classes": {
    "initial": "animated",
    "pinned": "slideDown",
    "unpinned": "slideUp",
    "top": "headroom--top",
    "notTop": "headroom--not-top"
  }
});
  headroom.init();

  // $("#sidebar-toggle").click(function(){
  //   if(snapper.state().state=="right"){
  //     snapper.close();
  //   }else{
  //     snapper.open('right');
  //   }
  // });

  // snapper.on('open',function(){
  //    $('#sidebar-toggle').hide();
  //  });

  // snapper.on('close',function(){
  //   if($(window).width()<showWidth){
  //     $('#sidebar-toggle').delay(160).fadeIn(5);
  //   }
  // });

</script>

<script type="text/javascript">
    var appInsights=window.appInsights||function(config){
        function s(config){t[config]=function(){var i=arguments;t.queue.push(function(){t[config].apply(t,i)})}}var t={config:config},r=document,f=window,e="script",o=r.createElement(e),i,u;for(o.src=config.url||"//az416426.vo.msecnd.net/scripts/a/ai.0.js",r.getElementsByTagName(e)[0].parentNode.appendChild(o),t.cookie=r.cookie,t.queue=[],i=["Event","Exception","Metric","PageView","Trace"];i.length;)s("track"+i.pop());return config.disableExceptionTracking||(i="onerror",s("_"+i),u=f[i],f[i]=function(config,r,f,e,o){var s=u&&u(config,r,f,e,o);return s!==!0&&t["_"+i](config,r,f,e,o),s}),t
    }({
        instrumentationKey:"7dd50316-2102-4001-9699-899ea971d98f"
    });

    window.appInsights=appInsights;
    appInsights.trackPageView();
</script>

{% if site.disqus_short_name and page.comments == true %}
  {% include disqus.html %}
{% endif %}
{% include google_analytics.html %}
{% include custom/after_footer.html %}
{% include facebook_like.html %}
{% include google_plus_one.html %}
{% include twitter_sharing.html %}

